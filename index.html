<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>配当管理</title>
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>

<body>
    <div class="app-container">
        <header>
            <h1>配当金の見える化</h1>
        </header>

        <section id="dashboard" class="card">
            <h2>年間予想配当金</h2>
            <div class="total-dividend">
                <span class="currency">¥</span>
                <span id="total-amount">0</span>
            </div>
            <div class="chart-wrapper">
                <h3>ポートフォリオ比率</h3>
                <div class="chart-container">
                    <canvas id="allocationChart"></canvas>
                </div>
            </div>
            <div class="chart-wrapper">
                <h3>配当金推移</h3>
                <div class="chart-container">
                    <canvas id="historyChart"></canvas>
                </div>
            </div>
        </section>

        <section id="add-stock" class="card">
            <h3>銘柄を追加</h3>
            <form id="stock-form">
                <div class="form-group">
                    <label for="ticker">銘柄コード/ティッカー</label>
                    <input type="text" id="ticker" required placeholder="例: 7203">
                </div>
                <div class="form-group">
                    <label for="stock-name">銘柄名</label>
                    <input type="text" id="stock-name" placeholder="トヨタ自動車 (自動取得または手入力)">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="quantity">保有株数</label>
                        <input type="number" id="quantity" required min="1" placeholder="100">
                    </div>
                    <div class="form-group">
                        <label for="dividend">1株配当(円)</label>
                        <input type="number" id="dividend" required min="0" step="0.01" placeholder="45.0">
                    </div>
                </div>
                <!-- Hidden Date Field for history tracking -->
                <input type="hidden" id="entry-date">
                <button type="submit" class="btn-primary">追加する</button>
            </form>
        </section>

        <section id="portfolio" class="card">
            <h3>保有銘柄一覧</h3>
            <ul id="stock-list">
                <!-- Stock items will be injected here -->
            </ul>
        </section>
    </div>

    <script src="app.js"></script>
</body>

</html>